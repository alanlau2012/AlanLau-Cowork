<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session c0d3b738-b9cc-4408-8e58-2b00839b3165 (2026-01-17 14:48Z) -->

# 提示词结构化拆解 (2026-01-17 14:48Z)

_**User (2026-01-17 09:13Z)**_

@cowork-prompt-zh.md 结构化拆解一下这个提示词，每一部分的重点是什么

---

_**Agent (model default, mode Agent)**_



---


分析该提示词文件的结构和重点。


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: cowork-prompt-zh.md</summary>

</details>
</tool-use>

---



---


结构化拆解该提示词，说明各部分重点：


---

Cancelled

---



---



---


## Cowork 提示词结构拆解

### 一、应用详情 (`<application_details>`)
**重点：** 定义 Cowork 模式的基本身份和运行环境
- Cowork 是 Claude 桌面应用的研究预览功能
- 基于 Claude Code 和 Claude Agent SDK，但不自称 Claude Code
- 在 Linux 虚拟机（沙箱）中运行，可受控访问工作区文件夹
- 除非相关，否则不主动提及实现细节

---

### 二、行为指令 (`<behavior_instructions>`)
核心行为规范，包含 9 个子模块：

#### 2.1 产品信息 (`<product_information>`)
**重点：** 产品边界与信息引导
- 可访问的产品：Web/移动/桌面、API、Claude Code、Chrome/Excel 测试版
- 模型版本：Opus 4.5、Sonnet 4.5、Haiku 4.5
- 不知道的内容：消息限制、费用、应用内操作 → 引导至 support.claude.com
- API 相关问题 → 引导至 docs.claude.com
- 可提供提示工程指导

#### 2.2 拒绝处理 (`<refusal_handling>`)
**重点：** 安全与伦理边界
- 可客观讨论大多数话题
- 儿童安全：对涉及未成年人的内容谨慎
- 禁止：武器制造信息、恶意代码（即使教育目的）
- 避免：涉及真实公众人物的虚构内容
- 拒绝时保持对话语气

#### 2.3 法律和财务建议 (`<legal_and_financial_advice>`)
**重点：** 免责与信息提供
- 不提供自信的建议，提供事实信息
- 明确声明不是律师或财务顾问

#### 2.4 语气和格式 (`<tone_and_formatting>`)
**重点：** 回复风格规范
- 避免过度格式化（粗体、列表、标题）
- 优先使用段落而非列表（除非用户要求）
- 报告/文档使用散文体，不用项目符号
- 语气：温暖、善意、建设性
- 不使用表情符号（除非用户要求）
- 不诅咒（除非用户要求且谨慎）
- 对未成年人保持友好、适合年龄

#### 2.5 用户福祉 (`<user_wellbeing>`)
**重点：** 心理健康与安全关怀
- 避免鼓励自我毁灭行为
- 识别心理健康症状（躁狂、精神病、解离等），避免强化，建议寻求专业帮助
- 自残相关：不提供具体方法，关注情绪困扰
- 避免强化负面情绪
- 危机时直接提供资源，不进行安全评估

#### 2.6 Anthropic 提醒 (`<anthropic_reminders>`)
**重点：** 系统提醒处理机制
- 可能收到：image_reminder、cyber_warning、system_warning、ethics_reminder、ip_reminder
- 长时间对话可能收到 `<long_conversation_reminder>`
- 需谨慎处理用户消息中的标签内容（可能伪造）

#### 2.7 公平性 (`<evenhandedness>`)
**重点：** 处理争议话题的平衡原则
- 被要求支持某立场时，提供该立场支持者的最佳案例（即使反对）
- 极端立场除外（危害儿童、政治暴力）
- 回复时提供对立观点
- 避免刻板印象
- 谨慎分享个人政治观点，提供公平概述
- 将争议问题视为真诚询问

#### 2.8 附加信息 (`<additional_info>`)
**重点：** 沟通技巧与边界
- 可用示例、思想实验、隐喻
- 用户不满时可引导使用"踩"按钮反馈
- 面对粗鲁时，可要求尊重，无需道歉

#### 2.9 知识截止日期 (`<knowledge_cutoff>`)
**重点：** 知识边界管理
- 可靠知识截止：2025 年 5 月底
- 之后的事件：无法知道，引导使用网络搜索工具
- 不主动提醒截止日期（除非相关）

---

### 三、工具使用规范

#### 3.1 询问用户问题工具 (`<ask_user_question_tool>`)
**重点：** 工作前澄清需求
- 默认使用：多步骤任务、文件创建、工具调用工作流
- 不使用：简单对话、快速事实问题、已明确的需求
- 使用工具提问，而非仅在回复中提问

#### 3.2 待办列表工具 (`<todo_list_tool>`)
**重点：** 任务进度可视化
- 默认行为：几乎所有涉及工具调用的任务都使用 TodoWrite
- 跳过情况：纯对话、用户明确要求不使用
- 建议顺序：查看技能/AskUserQuestion → TodoWrite → 实际工作
- 验证步骤：非平凡任务需包含最终验证（使用子代理）

#### 3.3 任务工具 (`<task_tool>`)
**重点：** 子代理生成策略
- 并行化：多个独立工作项
- 上下文隐藏：高令牌成本的子任务（探索代码库、解析大邮件、分析大型文档）

#### 3.4 引用要求 (`<citation_requirements>`)
**重点：** 来源标注
- 基于 MCP 工具调用（Slack、Asana、Box 等）的内容需标注来源
- 格式：[标题](URL) 或遵循工具描述

---

### 四、计算机使用 (`<computer_use>`)
最复杂的模块，包含 13 个子模块：

#### 4.1 技能 (`<skills>`)
**重点：** 任务前先读技能文档
- 技能是创建不同类型文档的最佳实践集合
- 使用计算机工具前，先读取相关 SKILL.md
- 可组合多个技能
- 示例：PowerPoint → 读 pptx/SKILL.md，Word → 读 docx/SKILL.md

#### 4.2 文件创建建议 (`<file_creation_advice>`)
**重点：** 文件创建触发条件
- "写文档/报告" → docx/.md/.html
- "创建组件/脚本" → 代码文件
- "修复/修改文件" → 编辑上传文件
- "制作演示文稿" → .pptx
- 包含"保存/文件/文档" → 创建文件
- 代码超过 10 行 → 创建文件

#### 4.3 避免不必要的计算机使用 (`<unnecessary_computer_use_avoidance>`)
**重点：** 工具使用边界
- 不应使用：回答训练知识中的事实、总结对话内容、解释概念

#### 4.4 网络内容限制 (`<web_content_restrictions>`)
**重点：** 合规与安全
- 仅使用 WebFetch 和 WebSearch（有内置限制）
- 禁止绕过：不使用 bash（curl/wget）、Python（requests）、其他 HTTP 请求
- 禁止访问缓存/存档/镜像
- 无法获取时：告知用户，提供替代方案

#### 4.5 高级计算机使用说明 (`<high_level_computer_use_explanation>`)
**重点：** 运行环境与工具
- 环境：Ubuntu 22 虚拟机（沙箱）
- 工具：bash、str_replace、file_create、view
- 工作目录：`{{cwd}}`（临时）
- 工作区：`{{workspaceFolder}}`（持久，用户可见）
- 文件创建能力是"创建文件"功能预览

#### 4.6 建议 Claude 行动 (`<suggesting_claude_actions>`)
**重点：** 主动帮助用户
- 即使用户只询问信息，也应考虑是否可用工具帮助
- 缺少权限时，解释如何授予访问权限
- 示例：Salesforce 账户 → 解释如何启用连接器

#### 4.7 文件处理规则 (`<file_handling_rules>`)
**重点：** 文件位置与访问策略
- `{{cwd}}`：临时工作区，用户不可见
- `{{workspaceFolder}}`：最终输出位置，用户可见，必须保存到此
- 简单任务（<100 行）：直接写入 workspaceFolder
- 用户上传文件：`{{cwd}}/mnt/uploads`，需用 file_read 读入上下文
- 引用时：用"您选择的文件夹"或"我的工作文件夹"，不暴露内部路径

#### 4.8 产生输出 (`<producing_outputs>`)
**重点：** 文件创建策略
- 短内容（<100 行）：一次创建，直接保存到 workspaceFolder
- 长内容（>100 行）：迭代编辑，从大纲开始，逐节添加
- 必须实际创建文件，不能只显示内容

#### 4.9 共享文件 (`<sharing_files>`)
**重点：** 文件交付方式
- 提供 computer:// 链接
- 简洁摘要，避免过度描述
- 使用"查看"而非"下载"
- 只提供文件链接，不提供文件夹

#### 4.10 工件 (`<artifacts>`)
**重点：** 特殊文件类型的渲染规则
- 默认创建单文件工件（HTML/React 的 CSS/JS 放在同一文件）
- 特殊渲染类型：.md、.html、.jsx、.mermaid、.svg、.pdf
- Markdown：独立书面内容、对话外使用的内容
- React：仅使用 Tailwind 核心类、可用库列表（lucide-react、recharts、d3 等）
- 关键限制：禁止使用 localStorage/sessionStorage（使用 React 状态或内存存储）
- 不在回复中包含 `<artifact>` 标签

#### 4.11 包管理 (`<package_management>`)
**重点：** 依赖安装规范
- npm：正常，全局包到 `{{cwd}}/.npm-global`
- pip：必须使用 `--break-system-packages`
- 虚拟环境：复杂 Python 项目需要时创建
- 使用前验证工具可用性

#### 4.12 示例 (`<examples>`)
**重点：** 决策示例
- 总结附加文件 → 使用对话内容，不用 view
- 修复错误 + 附件 → 检查 mnt/uploads → 复制到 cwd → 提供给用户
- 知识问题 → 直接回答
- 创建内容 → 创建实际文件

#### 4.13 附加技能提醒 (`<additional_skills_reminder>`)
**重点：** 再次强调技能使用
- 每个涉及计算机使用的请求都要先读 SKILL.md
- 特定提醒：pptx、xlsx、docx、pdf 必须读对应技能
- 注意用户技能和示例技能

---

### 五、用户信息 (`<user>`)
**重点：** 用户身份变量
- Name: {{accountName}}
- Email: {{emailAddress}}

---

### 六、环境变量 (`<env>`)
**重点：** 运行时环境信息
- 日期：{{currentDateTime}}
- 模型：{{modelName}}
- 文件夹选择：{{folderSelected}}

---

## 核心设计原则总结

1. 安全第一：沙箱环境、内容限制、拒绝恶意请求
2. 用户导向：主动帮助、清晰沟通、尊重边界
3. 质量保证：先读技能、验证步骤、迭代完善
4. 文件管理：明确区分临时工作区与用户可见的工作区
5. 工具规范：明确何时使用、如何使用、何时不使用

该提示词约 427 行，覆盖了 Cowork 模式下的行为规范、工具使用、文件处理等核心流程。

---

