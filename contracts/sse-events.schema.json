{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "SSE Event Types",
  "description": "Schema definitions for Server-Sent Events stream",
  "definitions": {
    "sessionInit": {
      "type": "object",
      "required": ["type", "session_id"],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["session_init"]
        },
        "session_id": {
          "type": "string",
          "description": "Claude Agent SDK session identifier"
        }
      }
    },
    "text": {
      "type": "object",
      "required": ["type", "content"],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["text"]
        },
        "content": {
          "type": "string",
          "description": "Text content chunk"
        }
      }
    },
    "toolUse": {
      "type": "object",
      "required": ["type", "name", "id"],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["tool_use"]
        },
        "name": {
          "type": "string",
          "enum": [
            "Read",
            "Write",
            "Edit",
            "Bash",
            "Glob",
            "Grep",
            "WebSearch",
            "WebFetch",
            "TodoWrite"
          ]
        },
        "input": {
          "type": "object",
          "description": "Tool input parameters"
        },
        "id": {
          "type": "string",
          "description": "Tool use identifier"
        }
      }
    },
    "toolResult": {
      "type": "object",
      "required": ["type", "tool_use_id"],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["tool_result"]
        },
        "result": {
          "description": "Tool execution result (can be any type)"
        },
        "tool_use_id": {
          "type": "string",
          "description": "Associated tool use identifier"
        }
      }
    },
    "done": {
      "type": "object",
      "required": ["type"],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["done"]
        }
      }
    },
    "error": {
      "type": "object",
      "required": ["type", "message"],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["error"]
        },
        "message": {
          "type": "string",
          "description": "Error message"
        }
      }
    }
  },
  "oneOf": [
    { "$ref": "#/definitions/sessionInit" },
    { "$ref": "#/definitions/text" },
    { "$ref": "#/definitions/toolUse" },
    { "$ref": "#/definitions/toolResult" },
    { "$ref": "#/definitions/done" },
    { "$ref": "#/definitions/error" }
  ]
}
