---
name: å·¥å…·ç±»å‹è§†è§‰åŒºåˆ†
overview: ä¸ºæ¶ˆæ¯åŒºåŸŸçš„å†…è”å·¥å…·è°ƒç”¨æ·»åŠ åŸºäºå·¥å…·ç±»å‹çš„é¢œè‰²å’Œemojiå›¾æ ‡ï¼Œæå‡è§†è§‰åŒºåˆ†åº¦
todos:
  - id: add-util-functions
    content: åœ¨ utils.js ä¸­æ·»åŠ  getToolCategory å’Œ getToolIcon å‡½æ•°
    status: completed
  - id: update-renderer-js
    content: ä¿®æ”¹ renderer.js çš„ addInlineToolCall å‡½æ•°ï¼Œæ·»åŠ ç±»å‹classå’Œemoji
    status: completed
  - id: update-uihelpers
    content: ä¿®æ”¹ uiHelpers.js çš„ buildInlineToolCallHTML å‡½æ•°
    status: completed
  - id: add-css-styles
    content: åœ¨ style.css ä¸­æ·»åŠ å·¥å…·ç±»å‹é¢œè‰²æ ·å¼
    status: completed
---

# å·¥å…·ç±»å‹è§†è§‰åŒºåˆ†æ–¹æ¡ˆ

## ç›®æ ‡

åœ¨ä¸­é—´æ­£æ–‡åŒºåŸŸçš„å†…è”å·¥å…·è°ƒç”¨ï¼ˆ`.inline-tool-call`ï¼‰ä¸­ï¼Œæ ¹æ®å·¥å…·ç±»åˆ«æ˜¾ç¤ºä¸åŒçš„é¢œè‰²ä¸»é¢˜å’Œemojiå›¾æ ‡ï¼Œæå‡å¯è¯»æ€§å’ŒåŒºåˆ†åº¦ã€‚

## å·¥å…·ç±»å‹åˆ†ç±»è®¾è®¡

| ç±»å‹ | å·¥å…·åç§° | Emoji | ä¸»é¢˜è‰² |

|------|----------|-------|--------|

| Shell | Shell, Bash, Task | ğŸ’» | ç´«è‰² (#8b5cf6) |

| Read | Read, ReadLints | ğŸ“– | è“è‰² (#3b82f6) |

| Write | Write, Delete | âœï¸ | ç»¿è‰² (#10b981) |

| Edit | StrReplace, EditNotebook | ğŸ”§ | æ©™è‰² (#f59e0b) |

| Search | Grep, Glob, SemanticSearch | ğŸ” | é’è‰² (#06b6d4) |

| Web | WebSearch, FetchMcpResource | ğŸŒ | é›è“ (#6366f1) |

| Git | gitç›¸å…³å‘½ä»¤ | ğŸ“¦ | ç²‰è‰² (#ec4899) |

| Other | å…¶ä»–å·¥å…· | âš™ï¸ | ç°è‰² (#6b7280) |

## å®ç°æ­¥éª¤

### 1. æ·»åŠ å·¥å…·ç±»å‹æ˜ å°„å‡½æ•°

åœ¨ [`renderer/utils.js`](renderer/utils.js) ä¸­æ–°å¢ï¼š

```javascript
export function getToolCategory(toolName) {
  const categories = {
    shell: ['Shell', 'Bash', 'Task'],
    read: ['Read', 'ReadLints', 'LS'],
    write: ['Write', 'Delete', 'CreatePlan', 'TodoWrite'],
    edit: ['StrReplace', 'EditNotebook'],
    search: ['Grep', 'Glob', 'SemanticSearch'],
    web: ['WebSearch', 'FetchMcpResource', 'ListMcpResources'],
    ask: ['AskQuestion']
  };

  for (const [category, tools] of Object.entries(categories)) {
    if (tools.includes(toolName)) return category;
  }
  return 'other';
}

export function getToolIcon(toolName) {
  const icons = {
    shell: 'ğŸ’»',
    read: 'ğŸ“–',
    write: 'âœï¸',
    edit: 'ğŸ”§',
    search: 'ğŸ”',
    web: 'ğŸŒ',
    ask: 'â“',
    other: 'âš™ï¸'
  };
  return icons[getToolCategory(toolName)] || icons.other;
}
```

### 2. ä¿®æ”¹å†…è”å·¥å…·è°ƒç”¨æ¸²æŸ“

åœ¨ [`renderer/renderer.js`](renderer/renderer.js) çš„ `addInlineToolCall` å‡½æ•°ï¼ˆçº¦1582è¡Œï¼‰ä¸­ï¼š

- æ·»åŠ å·¥å…·ç±»å‹ class
- æ˜¾ç¤ºå¯¹åº”çš„ emoji å›¾æ ‡

### 3. æ·»åŠ CSSæ ·å¼

åœ¨ [`renderer/style.css`](renderer/style.css) çš„ `.inline-tool-call` éƒ¨åˆ†æ·»åŠ ï¼š

- å„ç±»å‹çš„è¾¹æ¡†/èƒŒæ™¯é¢œè‰²
- emojiå›¾æ ‡æ ·å¼

```css
/* å·¥å…·ç±»å‹é¢œè‰² */
.inline-tool-call.tool-shell {
  border-left: 3px solid #8b5cf6;
}
.inline-tool-call.tool-read {
  border-left: 3px solid #3b82f6;
}
.inline-tool-call.tool-write {
  border-left: 3px solid #10b981;
}
/* ... */
```

### 4. åŒæ­¥æ›´æ–° uiHelpers.js

ç¡®ä¿ [`renderer/uiHelpers.js`](renderer/uiHelpers.js) ä¸­çš„ `buildInlineToolCallHTML` ä¹Ÿä½¿ç”¨ç›¸åŒçš„åˆ†ç±»é€»è¾‘ï¼ˆç”¨äºæ¶ˆæ¯æ¢å¤åœºæ™¯ï¼‰ã€‚

## æ¶‰åŠæ–‡ä»¶

- [`renderer/utils.js`](renderer/utils.js) - æ·»åŠ å·¥å…·åˆ†ç±»å‡½æ•°
- [`renderer/renderer.js`](renderer/renderer.js) - ä¿®æ”¹å®æ—¶æ¸²æŸ“é€»è¾‘
- [`renderer/uiHelpers.js`](renderer/uiHelpers.js) - ä¿®æ”¹HTMLæ„å»ºå‡½æ•°
- [`renderer/style.css`](renderer/style.css) - æ·»åŠ ç±»å‹æ ·å¼

## é¢„æœŸæ•ˆæœ

- Shellå‘½ä»¤æ˜¾ç¤ºç´«è‰²è¾¹æ¡† + ğŸ’» å›¾æ ‡
- æ–‡ä»¶è¯»å–æ˜¾ç¤ºè“è‰²è¾¹æ¡† + ğŸ“– å›¾æ ‡
- æ–‡ä»¶å†™å…¥æ˜¾ç¤ºç»¿è‰²è¾¹æ¡† + âœï¸ å›¾æ ‡
- ä»£ç ç¼–è¾‘æ˜¾ç¤ºæ©™è‰²è¾¹æ¡† + ğŸ”§ å›¾æ ‡
- æœç´¢æ“ä½œæ˜¾ç¤ºé’è‰²è¾¹æ¡† + ğŸ” å›¾æ ‡
- ç½‘ç»œè¯·æ±‚æ˜¾ç¤ºé›è“è¾¹æ¡† + ğŸŒ å›¾æ ‡
